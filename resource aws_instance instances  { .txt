resource "aws_instance" "instances"  {  #this is just gonna be a name for terraform to recognise
  ami           = "ami-0f34c5ae932e6f0e4"  # Amazon Linux 2023 AMI
  instance_type = "t2.micro"
  associate_public_ip_address = true
  subnet_id = ""
  vpc_security_group_ids = ["sg-037dc039bc9aae49d"]
  key_name = "zm-test1" #for SSH connection
  availability_zone = "us-east-1a" #this should be the same as the subnet

network_interface {
  device_index = 0
  network_interface_id = aws_network_interface.zmw-nwint.id
}

user_data =<<-EOF
            #!/bin/bash
            sudo apt update -y
            sudo apt install apache2 -y
            sudo systemct1 start apache2
            sudo bash -c 'echo your very first web server > /var/www/html1/index.html
            EOF


  tags = {
    Name = "zmwLinuxWebserver"
  }
}